#! /usr/bin/env python
# coding=utf-8

from __future__ import print_function
import optparse
import sys

PY3 = sys.version_info[0] == 3


def _process_line(options):
    try:
        if options.input is None:
            f = sys.stdin
        else:
            f = open(options.input, 'r')

        if options.count is not None:
            count = options.count

        if options.line is not None:
            count = options.line

        for i in xrange(0, count):
            line = f.readline()
            if options.line is not None:
                if i + 1 == options.line:
                    sys.stdout.write(line)
            else:
                sys.stdout.write(line)
    except IOError as err:
        print(err)
        return 1
    finally:
        f.close()

def main():
    parser = optparse.OptionParser(optparse.SUPPRESS_USAGE)
    parser.add_option('-n', dest='count', type='int', help='the first count lines, start from 1')
    parser.add_option('-l', dest='line', type='int', help='the num-th line, start from 1')
    parser.add_option('-i', dest='input', type='string', help='the absolute path of the input file')
    options, args = parser.parse_args()
    
    if options.count is None and options.line is None:
        parser.print_help()
        exit(1)
    else:
        _process_line(options)


if __name__ == '__main__':
    main()

